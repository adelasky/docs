# 第三章 数据链路层

## 功能

一些基本概念：

- 结点：主机、路由器。
- 链路（物理通道）：双绞线、微波、光纤。
- 数据链路（逻辑通道）：并未加入协议和硬件，只是一种抽象的通道。
- 帧：数据链路层的协议数据单元，用来封装网络层数据报。

特点：搬运，链接，将物理层可能出错的物理连接改为逻辑上无差错的数据链路。

![](https://i0.hdslb.com/bfs/album/6a1920b4a46cac2f32d61ed5e24096f009de5784.png)

功能：

- 为网络层提供服务。

- 链路管理（连接的建立、维持和释放）。
- 组帧。
- 流量控制。
- 差错控制。

> 为网络层提供的服务：
>
> - 无确认无连接服务（实时通信）。
> - 有确认无连接服务。
> - 有确认面向连接服务。

### 封装成帧和透明传输

概念：为一段数据添加首部和尾部。接收端能够通过首部和尾部的标记识别帧的开始和结束。

![](https://i0.hdslb.com/bfs/album/1d2b051dbd6a21b72e82df36f8c84f607f1086ac.png)

首部和尾部拥有众多控制信息，其中一个重要作用是：**帧定界**。

透明传输：无论所传数据是怎样的比特组合，都应当能够在链路上传送。当某一段比特流和控制信息一致时，需要采取适当措施进行转换。

#### 一些组帧方法：

1.字符计数法：使用帧首部一个字节来表明帧内字符数。

![](https://i0.hdslb.com/bfs/album/1cbc3146bb94a0685e075c600f3ef964c7079f22.png)

不足：帧首位出错则全部出错。

2.字符填充法：目的是为了防止错误寻找帧边界。

![](https://i0.hdslb.com/bfs/album/79fae00456f744f4a35ad0bad8e380a74749b94e.png)

实现过程：转义字符。

![](https://i0.hdslb.com/bfs/album/3b0195d6cea13729f523f1694c7b4a0bac3ecbc0.png)

不足：实现的复杂性和不兼容性。

3.零比特填充法：解决帧首部和尾部均为 `01111110`，数据部分同样出现 `01111110` 的问题。

![](https://i0.hdslb.com/bfs/album/668dd23e84129b16f6f9e8f466d4eef55ea60b5d.png)

优点：在传输中能够传输任何比特流，而不会引起对帧边界的判断错误。

4.违规编码法：主要用于曼彻斯特编码，使用“高-高”和“低-低”编码来界定帧的起始和终止。

![](https://i0.hdslb.com/bfs/album/31f9bfff3a89cb470d899bf744d7fd4c92c04751.png)

### 差错控制



### 滑动窗口机制



## 应用

### 两种链路和信道



### 链路层设备

